<div fxLayout="column">
  <h3>Based on your selection, these are some conditions that would be reported:</h3>

  <div class="fixed-height-container">
    <table mat-table [dataSource]="(conditions)" class="mat-elevation-z8" fxFlex>
      <!-- Curable Column -->
      <ng-container matColumnDef="curable">
        <th mat-header-cell *matHeaderCellDef>
          <button mat-icon-button (click)="survey.curability = !survey.curability">
            <mat-icon svgIcon="curable" aria-hidden="false" aria-label="Curable"
                      [ngClass]="{'mat-primary': survey.curability}"></mat-icon>
          </button>
        </th>
        <td mat-cell *matCellDef="let condition" class="condition-attribute-cell">
          <div class="condition-attribute-icon"
               [ngClass]="{
                 'attribute-active': survey.curability,
                 'attribute-present': condition.curable,
                 'attribute-blocking': !survey.curability && !condition.curable
               }">
            <mat-icon svgIcon="curable" aria-hidden="false" aria-label="Curable"></mat-icon>
          </div>
        </td>
      </ng-container>

      <!-- Preventable Column -->
      <ng-container matColumnDef="preventable">
        <th mat-header-cell *matHeaderCellDef>
          <button mat-icon-button (click)="survey.preventability = !survey.preventability">
            <mat-icon svgIcon="preventable" aria-hidden="false" aria-label="Preventable"
                      [ngClass]="{'mat-primary': survey.preventability}"></mat-icon>
          </button>
        </th>
        <td mat-cell *matCellDef="let condition" class="condition-attribute-cell">
          <div class="condition-attribute-icon"
               [ngClass]="{
                 'attribute-active': survey.preventability,
                 'attribute-present': condition.preventable,
                 'attribute-blocking': !survey.preventability && !condition.preventable
               }">
            <mat-icon svgIcon="preventable" aria-hidden="false" aria-label="Preventable"></mat-icon>
          </div>
        </td>
      </ng-container>

      <!-- Adult Onset Column -->
      <ng-container matColumnDef="adultOnset">
        <th mat-header-cell *matHeaderCellDef>
          <button mat-icon-button (click)="survey.adultOnset = !survey.adultOnset">
            <mat-icon svgIcon="adultOnset" aria-hidden="false" aria-label="Adult Onset"
                      [ngClass]="{'mat-primary': survey.adultOnset}"></mat-icon>
          </button>
        </th>
        <td mat-cell *matCellDef="let condition" class="condition-attribute-cell">
          <div class="condition-attribute-icon"
               [ngClass]="{
                 'attribute-active': survey.adultOnset,
                 'attribute-present': condition.adultOnset,
                 'attribute-blocking': !survey.adultOnset && condition.adultOnset
               }">
            <mat-icon svgIcon="adultOnset" aria-hidden="false" aria-label="Adult Onset"></mat-icon>
          </div>
        </td>
      </ng-container>

      <!-- Adult Onset Column -->
      <ng-container matColumnDef="carrier">
        <th mat-header-cell *matHeaderCellDef>
          <button mat-icon-button (click)="survey.carrierStatus = !survey.carrierStatus">
            <mat-icon svgIcon="carrier" aria-hidden="false" aria-label="Carrier Status"
                      [ngClass]="{'mat-primary': survey.carrierStatus}"></mat-icon>
          </button>
        </th>
        <td mat-cell *matCellDef="let condition" class="condition-attribute-cell">
          <div class="condition-attribute-icon"
               [ngClass]="{
                 'attribute-active': survey.carrierStatus,
                 'attribute-present': condition.carrier
               }">
            <mat-icon svgIcon="carrier" aria-hidden="false" aria-label="Carrier Status"></mat-icon>
          </div>
        </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef><h3>Condition Name</h3></th>
        <td mat-cell *matCellDef="let condition"
            [ngClass]="{'condition-not-displayed': !wouldReturnCondition(condition)}"> {{condition.conditions}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>
