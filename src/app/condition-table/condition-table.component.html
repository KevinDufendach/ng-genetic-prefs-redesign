<div fxLayout="column">
  <div class="fixed-height-container">
    <table mat-table [dataSource]="(conditions)" class="mat-elevation-z8" fxFlex>
      <!-- Curable Column -->
      <ng-container matColumnDef="curable">
        <th mat-header-cell *matHeaderCellDef>
          <button mat-icon-button (click)="curability = !curability">
            <mat-icon svgIcon="curable_circle" aria-hidden="false" aria-label="Curable"
                      [ngClass]="{'mat-primary': curability}"></mat-icon>
          </button>
        </th>
        <td mat-cell *matCellDef="let condition" class="condition-attribute-cell">
          <div class="condition-attribute-icon"
               [ngClass]="{
                 'attribute-active': curability,
                 'attribute-present': condition.curable,
                 'attribute-blocking': !curability && !condition.curable
               }">
            <mat-icon svgIcon="curable_circle" aria-hidden="false" aria-label="Curable"></mat-icon>
          </div>
        </td>
      </ng-container>

      <!-- Preventable Column -->
      <ng-container matColumnDef="preventable">
        <th mat-header-cell *matHeaderCellDef>
          <button mat-icon-button (click)="preventability = !preventability">
            <mat-icon svgIcon="preventable_circle" aria-hidden="false" aria-label="Preventable"
                      [ngClass]="{'mat-primary': preventability}"></mat-icon>
          </button>
        </th>
        <td mat-cell *matCellDef="let condition" class="condition-attribute-cell">
          <div class="condition-attribute-icon"
               [ngClass]="{
                 'attribute-active': preventability,
                 'attribute-present': condition.preventable,
                 'attribute-blocking': !preventability && !condition.preventable
               }">
            <mat-icon svgIcon="preventable_circle" aria-hidden="false" aria-label="Preventable"></mat-icon>
          </div>
        </td>
      </ng-container>

      <!-- Adult Onset Column -->
      <ng-container matColumnDef="adultOnset">
        <th mat-header-cell *matHeaderCellDef>
          <button mat-icon-button (click)="adultOnset = !adultOnset">
            <mat-icon svgIcon="adultOnset_circle" aria-hidden="false" aria-label="Adult Onset"
                      [ngClass]="{'mat-primary': adultOnset}"></mat-icon>
          </button>
        </th>
        <td mat-cell *matCellDef="let condition" class="condition-attribute-cell">
          <div class="condition-attribute-icon"
               [ngClass]="{
                 'attribute-active': adultOnset,
                 'attribute-present': condition.adultOnset,
                 'attribute-blocking': !adultOnset && condition.adultOnset
               }">
            <mat-icon svgIcon="adultOnset_circle" aria-hidden="false" aria-label="Adult Onset"></mat-icon>
          </div>
        </td>
      </ng-container>

      <!-- Adult Onset Column -->
      <ng-container matColumnDef="carrier">
        <th mat-header-cell *matHeaderCellDef>
          <button mat-icon-button (click)="carrierStatus = !carrierStatus">
            <mat-icon svgIcon="carrier_circle" aria-hidden="false" aria-label="Carrier Status"
                      [ngClass]="{'mat-primary': carrierStatus}"></mat-icon>
          </button>
        </th>
        <td mat-cell *matCellDef="let condition" class="condition-attribute-cell">
          <div class="condition-attribute-icon"
               [ngClass]="{
                 'attribute-active': carrierStatus,
                 'attribute-present': condition.carrier
               }">
            <mat-icon svgIcon="carrier_circle" aria-hidden="false" aria-label="Carrier Status"></mat-icon>
          </div>
        </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef><h3>Condition Name</h3></th>
        <td mat-cell *matCellDef="let condition"
            [ngClass]="{'condition-not-displayed': !wouldReturnCondition(condition)}"> {{condition.conditions}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>
