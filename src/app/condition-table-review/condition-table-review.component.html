<table mat-table [dataSource]="conditions" multiTemplateDataRows class="mat-elevation-z8">
  <!-- Treatability -->
  <ng-container matColumnDef="treatability">
    <th mat-header-cell *matHeaderCellDef>T</th>
    <td mat-cell *matCellDef="let c" class="attribute-cell">
      <div class="treatability" [ngClass]="{'inapplicable': !c.treatable, 'notShown': !wouldReturnCondition(c)}"><mat-icon>circle</mat-icon></div>
    </td>
  </ng-container>

  <!-- Preventability -->
  <ng-container matColumnDef="preventability">
    <th mat-header-cell *matHeaderCellDef>P</th>
    <td mat-cell *matCellDef="let c" class="attribute-cell">
      <div class="preventability" [ngClass]="{'inapplicable': !c.preventable, 'notShown': !wouldReturnCondition(c)}"><mat-icon>circle</mat-icon></div>
    </td>
  </ng-container>

  <!-- Adult Onset -->
  <ng-container matColumnDef="adult-onset">
    <th mat-header-cell *matHeaderCellDef>A</th>
    <td mat-cell *matCellDef="let c" class="attribute-cell">
      <div class="adult-onset" [ngClass]="{'inapplicable': !c.adultOnset, 'notShown': !wouldReturnCondition(c)}"><mat-icon>circle</mat-icon></div>
    </td>
  </ng-container>

  <!-- Carrier Status -->
  <ng-container matColumnDef="carrier-status">
    <th mat-header-cell *matHeaderCellDef>C</th>
    <td mat-cell *matCellDef="let c" class="attribute-cell">
      <div class="carrier-status" [ngClass]="{'inapplicable': !c.carrier, 'notShown': !wouldReturnCondition(c)}"><mat-icon>circle</mat-icon></div>
    </td>
  </ng-container>

  <!-- Expand Icon -->
  <ng-container matColumnDef="expand-icon">
    <th mat-header-cell *matHeaderCellDef>E</th>
    <td mat-cell *matCellDef="let c"
        class="expand-cell" [class.condition-expanded]="expandedCondition === c">
      <div [@detailRotate]="c == expandedCondition ? 'selected' : 'deselected'">
        <mat-icon>expand_more</mat-icon>
      </div>
    </td>
  </ng-container>

  <!-- Condition Label -->
  <ng-container matColumnDef="condition-label">
    <th mat-header-cell *matHeaderCellDef>Condition Name</th>
    <td mat-cell *matCellDef="let c" class="label-cell">
      <div [ngClass]="{'notShown': !wouldReturnCondition(c)}">{{c.condition}}</div>
    </td>
  </ng-container>

  <!-- Detail Row -->
  <ng-container matColumnDef="expandedDetail">
    <td mat-cell *matCellDef="let c" [attr.colspan]="displayedColumns.length">
      <div class="condition-detail" [@detailExpand]="c == expandedCondition ? 'selected' : 'deselected'" fxLayout="column">
        <p>{{c.description}}</p>
        <a mat-button href="{{c.resource_link}}" target="_blank">LEARN MORE <mat-icon>launch</mat-icon></a>
        <mat-form-field>
          <mat-label>Override Condition Display</mat-label>
          <mat-select>
            <mat-option value="option1">Use Selections (default)</mat-option>
            <mat-option value="option2">Always Show Condition</mat-option>
            <mat-option value="option3">Never Show Condition</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </td>
  </ng-container>>

  <!-- <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr> -->
  <tr mat-row *matRowDef="let condition; columns: displayedColumns;"
    class="condition-row"
    [class.condition-expanded-row]="expandedCondition === condition"
    (click)="expandedCondition = (expandedCondition === condition ? null: condition)">
  </tr>
  <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="condition-detail-row"></tr>
</table>

<!--
<!~~ <mat-accordion class="example-headers-align">
  <mat-expansion-panel *ngFor="let c of conditions" togglePosition="before">
    <mat-expansion-panel-header [ngClass]="{'notShown': !wouldReturnCondition(c)}">
      <mat-panel-title>{{c.condition}}</mat-panel-title>
      <mat-panel-description>
        <div *ngIf="!(isHandset$ | async)" class="show-details">Click for details</div>
        <div fxFlex></div>
        <div fxLayout="row" *ngIf="isHandset$ | async">
          <div class="attribute-info" [ngClass]="{'inapplicable': c.override === Override.Default}">{{c.override === Override.Include ? 'I' : 'E'}}</div>
          <div class="treatability attribute-info" [ngClass]="{'inapplicable': !c.treatable}"><mat-icon>circle</mat-icon></div>
          <div class="preventability attribute-info" [ngClass]="{'inapplicable': !c.preventable}"><mat-icon>circle</mat-icon></div>
          <div class="adult-onset attribute-info" [ngClass]="{'inapplicable': !c.adultOnset}"><mat-icon>circle</mat-icon></div>
          <div class="carrier-status attribute-info" [ngClass]="{'inapplicable': !c.carrier, 'condition-hidden': !c.carrier}"><mat-icon>circle</mat-icon></div>
        </div>
        <div fxLayout="row" *ngIf="!(isHandset$ | async)">
          <div class="attribute-info" [ngClass]="{'inapplicable': c.override === Override.Default}">{{c.override === Override.Include ? 'Always' : 'Never'}} Report</div>
          <div class="treatability attribute-info" [ngClass]="{'inapplicable': !c.treatable}">Treatable</div>
          <div class="preventability attribute-info" [ngClass]="{'inapplicable': !c.preventable}">Preventable</div>
          <div class="adult-onset attribute-info" [ngClass]="{'inapplicable': !c.adultOnset}">Adult Onset</div>
          <div class="carrier-status attribute-info" [ngClass]="{'inapplicable': !c.carrier, 'condition-hidden': !c.carrier}">Carrier</div>
        </div>

      </mat-panel-description>
    </mat-expansion-panel-header>
    <div>
      <p>{{c.description}} <a href="{{c.resource_link}}" target="_blank" mat-button class="mat-primary">Learn More <mat-icon>launch</mat-icon></a></p>

      <div>
        <!~~ <h4>Manually include/exclude this condition?</h4> ~~>
        <!~~ <p>Do you want to override your survey responses? [ TODO: NEED FEEDBACK ON THIS WORDING ]</p> ~~>
        <mat-radio-group [(ngModel)]="c.override">
          <mat-radio-button [value]="Override.Include">ALWAYS report this condition</mat-radio-button>
          <mat-radio-button [value]="Override.Exclude">NEVER report this condition</mat-radio-button>
          <mat-radio-button [value]="Override.Default">Use my survey selections (default)</mat-radio-button>
        </mat-radio-group>
      </div>
    </div>

  </mat-expansion-panel>

</mat-accordion> ~~>


 -->
